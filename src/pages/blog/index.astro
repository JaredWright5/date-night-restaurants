---
import BaseLayout from '@/layouts/BaseLayout.astro';

const blogPosts = [
  {
    title: "Best Rooftop Restaurants in Los Angeles 2025: Sky-High Dining with Stunning Views",
    slug: "best-rooftop-restaurants-los-angeles-2024",
    excerpt: "Elevate your date night with Los Angeles' most spectacular rooftop restaurants. From downtown skyscrapers to beachside terraces, discover where to dine with breathtaking city views.",
    date: "2025-10-22",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",
    category: "Rooftop Dining"
  },
  {
    title: "First Date Restaurants in Los Angeles: Perfect Spots for Memorable First Encounters",
    slug: "first-date-restaurants-los-angeles",
    excerpt: "Make a lasting first impression with our curated selection of Los Angeles restaurants perfect for first dates. From intimate cafes to trendy hotspots, find the ideal setting for your first encounter.",
    date: "2025-10-15",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",
    category: "First Dates"
  },
  {
    title: "Anniversary Restaurants in Los Angeles: Celebrating Love with Memorable Dining",
    slug: "anniversary-restaurants-los-angeles",
    excerpt: "Celebrate your special milestone with Los Angeles' most romantic anniversary restaurants. From intimate fine dining to rooftop celebrations, create unforgettable memories at these exceptional venues.",
    date: "2025-10-08",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",
    category: "Special Occasions"
  },
  {
    title: "Outdoor Dining in Los Angeles: Al Fresco Romance Under the California Sun",
    slug: "outdoor-dining-los-angeles",
    excerpt: "Experience the magic of outdoor dining in Los Angeles. From rooftop terraces with city views to garden patios surrounded by nature, discover the most romantic al fresco dining experiences.",
    date: "2025-10-01",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",
    category: "Outdoor Dining"
  },
  {
    title: "Wine Bars in Los Angeles: Perfect Date Night Spots for Wine Lovers",
    slug: "wine-bars-los-angeles-date-night",
    excerpt: "Discover the best wine bars in Los Angeles for romantic date nights. From intimate tasting rooms to rooftop wine bars, find the perfect spot to enjoy exceptional wines with your special someone.",
    date: "2025-09-24",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",
    category: "Wine & Dining"
  },
  {
    title: "Budget-Friendly Date Night Restaurants in Los Angeles: Romantic Dining Under $50",
    slug: "budget-friendly-date-night-restaurants-los-angeles",
    excerpt: "Discover amazing date night restaurants in LA that won't break the bank. These romantic spots offer excellent food and ambiance for under $50 per person.",
    date: "2025-09-17",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",
    category: "Budget Dining"
  },
  {
    title: "Summer Date Night Ideas in Los Angeles: Rooftop & Patio Dining",
    slug: "summer-date-night-ideas-los-angeles",
    excerpt: "Make the most of LA's perfect summer weather with these romantic date night ideas. From rooftop bars with city views to beachfront dining, discover the best outdoor dining experiences for your summer romance.",
    date: "2025-09-10",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",
    category: "Summer Dating"
  },
  {
    title: "Downtown LA Date Night: Urban Romance in the City",
    slug: "downtown-la-date-night-urban-romance",
    excerpt: "Experience the energy and romance of Downtown Los Angeles. From sky-high rooftop bars to intimate speakeasies, discover the perfect urban date night in DTLA's dynamic restaurant scene.",
    date: "2025-09-03",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800&h=600&fit=crop",
    category: "Downtown LA Dining"
  },
  {
    title: "Valentine's Day Restaurants in Los Angeles 2025: Most Romantic Dining Spots",
    slug: "valentines-day-restaurants-los-angeles-2024",
    excerpt: "Make Valentine's Day 2025 unforgettable with our curated selection of Los Angeles' most romantic restaurants. From intimate fine dining to breathtaking rooftop views, discover the perfect spot for your special evening.",
    date: "2025-08-27",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?w=800&h=600&fit=crop",
    category: "Valentine's Day Guide"
  },
  {
    title: "Best French Restaurants in Los Angeles for Date Night: Romantic Bistros & Fine Dining",
    slug: "best-french-restaurants-los-angeles-date-night",
    excerpt: "Experience the romance of French cuisine in Los Angeles. From intimate Parisian bistros to elegant fine dining establishments, discover the perfect French restaurant for your next romantic date night.",
    date: "2025-08-20",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",
    category: "French Cuisine"
  },
  {
    title: "Best Date Night Restaurants in West Hollywood: Trendy Spots for Couples",
    slug: "best-date-night-restaurants-west-hollywood",
    excerpt: "Discover the most romantic and trendy date night restaurants in West Hollywood. From celebrity hotspots to intimate neighborhood gems, find your perfect spot for a memorable evening in WeHo.",
    date: "2025-08-13",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",
    category: "West Hollywood Dining"
  },
  {
    title: "Best Date Night Restaurants in Beverly Hills: Luxury Dining Guide",
    slug: "best-date-night-restaurants-beverly-hills",
    excerpt: "Discover the most romantic and luxurious date night restaurants in Beverly Hills. From Michelin-starred fine dining to intimate neighborhood gems perfect for special occasions.",
    date: "2025-08-06",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",
    category: "Beverly Hills Dining"
  },
  {
    title: "Romantic Restaurants in Santa Monica: Ocean View Dining Guide",
    slug: "romantic-restaurants-santa-monica-ocean-view",
    excerpt: "Discover the most romantic restaurants in Santa Monica with stunning ocean views. From beachfront dining to rooftop terraces, find your perfect date night spot by the sea.",
    date: "2025-07-30",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",
    category: "Santa Monica Dining"
  },
  {
    title: "Romantic Italian Restaurants in Los Angeles for the Perfect Date Night",
    slug: "romantic-italian-restaurants-los-angeles",
    excerpt: "Indulge in the timeless romance of Italian cuisine. We've handpicked LA's most enchanting Italian restaurants, perfect for a memorable date night.",
    date: "2025-07-23",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",
    category: "Italian Dining"
  },
  {
    title: "Anniversary Dinner Ideas in Los Angeles: Most Romantic Restaurants",
    slug: "anniversary-dinner-ideas-los-angeles",
    excerpt: "Celebrate with Michelin-level tasting menus, skyline rooftops, ocean-view escapes, and intimate neighborhood gems.",
    date: "2025-07-16",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?w=800&h=600&fit=crop",
    category: "Occasions"
  },
  {
    title: "Best Date Night Restaurants by Neighborhood in Los Angeles",
    slug: "best-date-night-restaurants-by-neighborhood-los-angeles",
    excerpt: "Explore top romantic restaurants across Beverly Hills, West Hollywood, Santa Monica, Venice, Hollywood, DTLA, and more.",
    date: "2025-07-09",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800&h=600&fit=crop",
    category: "Neighborhoods"
  },
  {
    title: "Best Rooftop Restaurants in Los Angeles for Date Night",
    slug: "best-rooftop-restaurants-los-angeles-date-night",
    excerpt: "Discover LA's most romantic rooftop restaurants with breathtaking views. From Downtown skyscrapers to beachside terraces, find the perfect elevated dining experience.",
    date: "2025-07-02",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",
    category: "Rooftop Dining"
  },
  {
    title: "Best First Date Restaurants in Los Angeles: Low-Pressure Spots That Impress",
    slug: "best-first-date-restaurants-los-angeles",
    excerpt: "Discover the perfect first date restaurants in LA. These spots strike the ideal balance between impressive and comfortable, with great food and conversation-friendly atmospheres.",
    date: "2025-06-25",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",
    category: "First Dates"
  },
  {
    title: "Top Anniversary Restaurants in Los Angeles: Celebrating Love in Style",
    slug: "top-anniversary-restaurants-los-angeles",
    excerpt: "Discover the most romantic and elegant restaurants in Los Angeles perfect for celebrating anniversaries. From intimate fine dining to rooftop celebrations, create unforgettable memories.",
    date: "2025-06-18",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?w=800&h=600&fit=crop",
    category: "Special Occasions"
  },
  {
    title: "The Ultimate Guide to Date Night Restaurants in Los Angeles",
    slug: "best-date-night-restaurants-los-angeles",
    excerpt: "Discover the most romantic and memorable dining experiences in LA. From intimate Italian trattorias to elegant rooftop venues, we've curated the perfect spots for your next date night.",
    date: "2025-06-11",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",
    category: "Restaurant Guides"
  },
  {
    title: "Romantic Dinner Ideas in Los Angeles: Perfect Spots for Special Occasions",
    slug: "romantic-dinner-ideas-los-angeles",
    excerpt: "Discover the most romantic dinner spots in Los Angeles for anniversaries, proposals, and special occasions. From intimate fine dining to rooftop views, find your perfect romantic evening.",
    date: "2025-06-04",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",
    category: "Special Occasions"
  },
  {
    title: "Los Angeles Date Night Guide: Complete Guide to Romantic Dining in LA",
    slug: "los-angeles-date-night-guide",
    excerpt: "Your complete guide to date night dining in Los Angeles. From first dates to anniversaries, discover the best romantic restaurants, neighborhoods, and dining experiences across LA.",
    date: "2025-05-28",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",
    category: "Complete Guides"
  },
  {
    title: "Date Night Restaurants by Price in Los Angeles: From Budget to Luxury",
    slug: "date-night-restaurants-by-price-los-angeles",
    excerpt: "Find the perfect date night restaurant for your budget in Los Angeles. From budget-friendly spots under $50 to luxury dining experiences, discover romantic restaurants at every price point.",
    date: "2025-05-21",
    author: "Date Night Experts",
    image: "https://images.unsplash.com/photo-1559329007-40df8a9345d8?w=800&h=600&fit=crop",
    category: "Budget Guide"
  }
];

const structuredData = {
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Date Night Restaurants Blog",
  "description": "Expert guides and tips for finding the perfect romantic dining experience in Los Angeles",
  "url": "https://datenightrestaurants.com/blog/"
};
---

<BaseLayout
  title="Blog | Date Night Restaurants Los Angeles"
  description="Expert guides, tips, and recommendations for the best romantic dining experiences in Los Angeles. Discover hidden gems and top-rated date night spots."
  keywords={['date night blog', 'Los Angeles restaurants', 'romantic dining guides', 'restaurant reviews LA', 'date night tips']}
  canonical="https://datenightrestaurants.com/blog/"
  structuredData={structuredData}
>
  <!-- Blog Hero -->
  <section class="blog-hero">
    <div class="container">
      <h1>Date Night Dining Guides</h1>
      <p>Expert advice and curated recommendations for unforgettable romantic experiences in Los Angeles</p>
    </div>
  </section>

  <!-- Blog Filters -->
  <section class="blog-filters">
    <div class="container">
      <div class="filters-container">
        <div class="search-filter">
          <input type="text" id="search-input" placeholder="Search blog posts..." />
          <i class="fas fa-search"></i>
        </div>
        
        <div class="filter-group">
          <label for="category-filter">Category:</label>
          <select id="category-filter">
            <option value="">All Categories</option>
            <option value="Rooftop Dining">Rooftop Dining</option>
            <option value="First Dates">First Dates</option>
            <option value="Special Occasions">Special Occasions</option>
            <option value="Outdoor Dining">Outdoor Dining</option>
            <option value="Wine & Dining">Wine & Dining</option>
            <option value="Budget Dining">Budget Dining</option>
            <option value="Summer Dating">Summer Dating</option>
            <option value="Downtown LA Dining">Downtown LA Dining</option>
            <option value="Valentine's Day Guide">Valentine's Day Guide</option>
            <option value="French Cuisine">French Cuisine</option>
            <option value="West Hollywood Dining">West Hollywood Dining</option>
            <option value="Beverly Hills Dining">Beverly Hills Dining</option>
            <option value="Santa Monica Dining">Santa Monica Dining</option>
            <option value="Italian Dining">Italian Dining</option>
            <option value="Occasions">Occasions</option>
            <option value="Neighborhoods">Neighborhoods</option>
            <option value="Restaurant Guides">Restaurant Guides</option>
            <option value="Complete Guides">Complete Guides</option>
            <option value="Budget Guide">Budget Guide</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="date-filter">Date Range:</label>
          <select id="date-filter">
            <option value="">All Time</option>
            <option value="last-month">Last Month</option>
            <option value="last-3-months">Last 3 Months</option>
            <option value="last-6-months">Last 6 Months</option>
            <option value="this-year">This Year</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="sort-filter">Sort By:</label>
          <select id="sort-filter">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="title">Title A-Z</option>
            <option value="category">Category</option>
          </select>
        </div>
        
        <button id="clear-filters" class="clear-filters-btn">Clear All Filters</button>
      </div>
      
      <div class="filter-results">
        <span id="results-count">Showing all {blogPosts.length} posts</span>
      </div>
    </div>
  </section>

  <!-- Blog Posts Grid -->
  <section class="blog-posts">
    <div class="container">
      <div class="posts-grid" id="posts-grid">
        {blogPosts.map(post => (
          <article class="post-card" data-category={post.category} data-date={post.date} data-title={post.title.toLowerCase()}>
            <a href={`/blog/${post.slug}/`} class="post-link">
              <div class="post-image">
                <img src={post.image} alt={post.title} loading="lazy" />
                <div class="post-category">{post.category}</div>
              </div>
              <div class="post-content">
                <div class="post-meta">
                  <time datetime={post.date}>{new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</time>
                  <span class="post-author">by {post.author}</span>
                </div>
                <h2>{post.title}</h2>
                <p>{post.excerpt}</p>
                <span class="read-more">Read More →</span>
              </div>
            </a>
          </article>
        ))}
      </div>
      
      <div id="no-results" class="no-results" style="display: none;">
        <div class="no-results-content">
          <i class="fas fa-search"></i>
          <h3>No posts found</h3>
          <p>Try adjusting your filters or search terms</p>
          <button id="reset-filters" class="btn btn-primary">Reset Filters</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter Signup -->
  <section class="newsletter-section">
    <div class="container">
      <div class="newsletter-content">
        <h2>Stay Updated on LA's Best Date Spots</h2>
        <p>Get our latest guides, restaurant reviews, and exclusive date night tips delivered to your inbox.</p>
        <form class="newsletter-form">
          <input type="email" placeholder="Enter your email address" required />
          <button type="submit" class="btn btn-primary">Subscribe</button>
        </form>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .blog-hero {
    background: linear-gradient(135deg, #2C2C2C 0%, #4A4A4A 50%, #D4AF37 100%);
    color: white;
    padding: 120px 0 80px;
    text-align: center;
  }

  .blog-hero h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    font-family: 'Playfair Display', serif;
  }

  .blog-hero p {
    font-size: 1.2rem;
    opacity: 0.9;
  }

  .blog-filters {
    background: #F8F6F0;
    padding: 2rem 0;
    border-bottom: 1px solid #E8D5B7;
  }

  .filters-container {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr auto;
    gap: 1.5rem;
    align-items: end;
    margin-bottom: 1rem;
  }

  .search-filter {
    position: relative;
  }

  .search-filter input {
    width: 100%;
    padding: 1rem 1.5rem 1rem 3rem;
    border: 2px solid #E8D5B7;
    border-radius: 50px;
    font-size: 1rem;
    outline: none;
    transition: border-color 0.3s ease;
  }

  .search-filter input:focus {
    border-color: #D4AF37;
  }

  .search-filter i {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: #666;
    font-size: 1.1rem;
  }

  .filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .filter-group label {
    font-weight: 600;
    color: #2C2C2C;
    font-size: 0.9rem;
  }

  .filter-group select {
    padding: 0.75rem 1rem;
    border: 2px solid #E8D5B7;
    border-radius: 8px;
    font-size: 0.9rem;
    background: white;
    outline: none;
    transition: border-color 0.3s ease;
  }

  .filter-group select:focus {
    border-color: #D4AF37;
  }

  .clear-filters-btn {
    padding: 0.75rem 1.5rem;
    background: #D4AF37;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s ease;
    white-space: nowrap;
  }

  .clear-filters-btn:hover {
    background: #B8941F;
  }

  .filter-results {
    text-align: center;
    color: #666;
    font-size: 0.9rem;
  }

  .no-results {
    text-align: center;
    padding: 4rem 2rem;
  }

  .no-results-content {
    max-width: 400px;
    margin: 0 auto;
  }

  .no-results-content i {
    font-size: 3rem;
    color: #D4AF37;
    margin-bottom: 1rem;
  }

  .no-results-content h3 {
    font-size: 1.5rem;
    color: #2C2C2C;
    margin-bottom: 0.5rem;
  }

  .no-results-content p {
    color: #666;
    margin-bottom: 2rem;
  }

  .blog-posts {
    padding: 4rem 0;
  }

  .posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .post-card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .post-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
  }

  .post-link {
    text-decoration: none;
    color: inherit;
    display: block;
  }

  .post-image {
    position: relative;
    height: 250px;
    overflow: hidden;
  }

  .post-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .post-card:hover .post-image img {
    transform: scale(1.05);
  }

  .post-category {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: #D4AF37;
    color: #2C2C2C;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .post-content {
    padding: 1.5rem;
  }

  .post-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 1rem;
  }

  .post-meta time {
    color: #D4AF37;
    font-weight: 600;
  }

  .post-content h2 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    color: #2C2C2C;
    font-family: 'Playfair Display', serif;
    line-height: 1.3;
  }

  .post-content p {
    color: #666;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .read-more {
    color: #D4AF37;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .newsletter-section {
    background: #F8F6F0;
    padding: 4rem 0;
    text-align: center;
  }

  .newsletter-content {
    max-width: 600px;
    margin: 0 auto;
  }

  .newsletter-content h2 {
    font-size: 2rem;
    color: #2C2C2C;
    margin-bottom: 1rem;
    font-family: 'Playfair Display', serif;
  }

  .newsletter-content p {
    color: #666;
    margin-bottom: 2rem;
    font-size: 1.1rem;
  }

  .newsletter-form {
    display: flex;
    gap: 1rem;
    max-width: 500px;
    margin: 0 auto;
  }

  .newsletter-form input {
    flex: 1;
    padding: 1rem 1.5rem;
    border: 1px solid #E8D5B7;
    border-radius: 50px;
    font-size: 1rem;
    outline: none;
  }

  .newsletter-form input:focus {
    border-color: #D4AF37;
  }

  .newsletter-form button {
    padding: 1rem 2rem;
    background: #D4AF37;
    color: white;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s ease, transform 0.3s ease;
  }

  .newsletter-form button:hover {
    background: #B8941F;
    transform: translateY(-2px);
  }

  @media (max-width: 768px) {
    .blog-hero h1 {
      font-size: 2.5rem;
    }

    .blog-hero p {
      font-size: 1rem;
    }

    .filters-container {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .posts-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .post-image {
      height: 200px;
    }

    .newsletter-form {
      flex-direction: column;
    }

    .newsletter-form input,
    .newsletter-form button {
      width: 100%;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('search-input');
    const categoryFilter = document.getElementById('category-filter');
    const dateFilter = document.getElementById('date-filter');
    const sortFilter = document.getElementById('sort-filter');
    const clearFiltersBtn = document.getElementById('clear-filters');
    const resetFiltersBtn = document.getElementById('reset-filters');
    const postsGrid = document.getElementById('posts-grid');
    const noResults = document.getElementById('no-results');
    const resultsCount = document.getElementById('results-count');
    
    const allPosts = Array.from(document.querySelectorAll('.post-card'));
    let filteredPosts = [...allPosts];

    function filterPosts() {
      const searchTerm = searchInput.value.toLowerCase();
      const selectedCategory = categoryFilter.value;
      const selectedDateRange = dateFilter.value;
      const sortBy = sortFilter.value;

      // Filter by search term
      filteredPosts = allPosts.filter(post => {
        const title = post.dataset.title;
        const excerpt = post.querySelector('p').textContent.toLowerCase();
        const matchesSearch = !searchTerm || title.includes(searchTerm) || excerpt.includes(searchTerm);
        
        // Filter by category
        const matchesCategory = !selectedCategory || post.dataset.category === selectedCategory;
        
        // Filter by date range
        let matchesDate = true;
        if (selectedDateRange) {
          const postDate = new Date(post.dataset.date);
          const now = new Date();
          const oneMonthAgo = new Date(now.getFullYear(), now.getMonth() - 1, now.getDate());
          const threeMonthsAgo = new Date(now.getFullYear(), now.getMonth() - 3, now.getDate());
          const sixMonthsAgo = new Date(now.getFullYear(), now.getMonth() - 6, now.getDate());
          const yearStart = new Date(now.getFullYear(), 0, 1);
          
          switch(selectedDateRange) {
            case 'last-month':
              matchesDate = postDate >= oneMonthAgo;
              break;
            case 'last-3-months':
              matchesDate = postDate >= threeMonthsAgo;
              break;
            case 'last-6-months':
              matchesDate = postDate >= sixMonthsAgo;
              break;
            case 'this-year':
              matchesDate = postDate >= yearStart;
              break;
          }
        }
        
        return matchesSearch && matchesCategory && matchesDate;
      });

      // Sort posts
      filteredPosts.sort((a, b) => {
        switch(sortBy) {
          case 'oldest':
            return new Date(a.dataset.date) - new Date(b.dataset.date);
          case 'title':
            return a.dataset.title.localeCompare(b.dataset.title);
          case 'category':
            return a.dataset.category.localeCompare(b.dataset.category);
          case 'newest':
          default:
            return new Date(b.dataset.date) - new Date(a.dataset.date);
        }
      });

      // Update display
      updateDisplay();
    }

    function updateDisplay() {
      // Hide all posts
      allPosts.forEach(post => {
        post.style.display = 'none';
      });

      // Show filtered posts
      filteredPosts.forEach(post => {
        post.style.display = 'block';
      });

      // Update results count
      resultsCount.textContent = `Showing ${filteredPosts.length} of ${allPosts.length} posts`;

      // Show/hide no results message
      if (filteredPosts.length === 0) {
        postsGrid.style.display = 'none';
        noResults.style.display = 'block';
      } else {
        postsGrid.style.display = 'grid';
        noResults.style.display = 'none';
      }
    }

    function clearAllFilters() {
      searchInput.value = '';
      categoryFilter.value = '';
      dateFilter.value = '';
      sortFilter.value = 'newest';
      filterPosts();
    }

    // Event listeners
    searchInput.addEventListener('input', filterPosts);
    categoryFilter.addEventListener('change', filterPosts);
    dateFilter.addEventListener('change', filterPosts);
    sortFilter.addEventListener('change', filterPosts);
    clearFiltersBtn.addEventListener('click', clearAllFilters);
    resetFiltersBtn.addEventListener('click', clearAllFilters);

    // Initialize
    filterPosts();
  });
</script>

